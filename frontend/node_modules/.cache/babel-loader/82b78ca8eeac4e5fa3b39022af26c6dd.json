{"ast":null,"code":"export const addexpense = (expense, navigate) => {\n  return async function (dispatch) {\n    dispatch({\n      type: \"expense/loading\"\n    });\n    const response = await fetch(\"https://Walanda-server-production.up.railway.app/handymen\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(expense)\n    });\n    const data = await response.json();\n    if (response.ok) {\n      dispatch({\n        type: \"add/expense\",\n        payload: data\n      });\n      localStorage.setItem(\"expense\", data.jwt);\n      navigate('/expense/alert');\n    } else {\n      dispatch({\n        type: \"error/expense\",\n        payload: data\n      });\n    }\n  };\n};\nexport const addlogin = (login, navigate) => {\n  return async function (dispatch) {\n    dispatch({\n      type: \"expense/loading\"\n    });\n    const response = await fetch(\"https://Walanda-server-production.up.railway.app/expense/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(login)\n    });\n    const data = await response.json();\n    console.log(data);\n    if (response.ok) {\n      dispatch({\n        type: \"add/login\",\n        payload: data.expense\n      });\n      localStorage.setItem(\"expense\", data.token);\n      localStorage.setItem(\"profileId\", data.expense.id);\n      navigate(\"/jobs\");\n    } else {\n      dispatch({\n        type: \"error/expense\",\n        payload: data\n      });\n    }\n  };\n};\nconst initialState = {\n  status: \"idle\",\n  errors: [],\n  expense: {}\n};\nexport default function expenseReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"add/expense\":\n      {\n        return {\n          ...state,\n          expense: action.payload,\n          errors: [],\n          status: \"idle\"\n        };\n      }\n    case \"expense/loading\":\n      {\n        return {\n          ...state,\n          status: \"loading\"\n        };\n      }\n    case \"add/login\":\n      {\n        return {\n          ...state,\n          expense: action.payload,\n          errors: [],\n          status: \"idle\"\n        };\n      }\n    case \"error/expense\":\n      {\n        return {\n          ...state,\n          errors: action.payload.errors,\n          status: \"idle\"\n        };\n      }\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["addexpense","expense","navigate","dispatch","type","response","fetch","method","headers","body","JSON","stringify","data","json","ok","payload","localStorage","setItem","jwt","addlogin","login","console","log","token","id","initialState","status","errors","expenseReducer","state","action"],"sources":["/Users/trixie/Downloads/walanda/frontend/src/Components/expense/LoginExpSlice.js"],"sourcesContent":["export const addexpense = (expense, navigate) => {\n  return async function (dispatch) {\n    dispatch({\n      type: \"expense/loading\"\n    })\n    const response = await fetch(\"https://Walanda-server-production.up.railway.app/handymen\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(\n        expense\n      )\n    })\n\n    const data = await response.json()\n\n    if (response.ok) {\n      dispatch({\n        type: \"add/expense\",\n        payload: data\n      })\n      localStorage.setItem(\"expense\", data.jwt)\n      navigate('/expense/alert');\n    } else {\n      dispatch({\n        type: \"error/expense\",\n        payload: data\n      })\n    }\n  }\n}\n\nexport const addlogin = (login, navigate) => {\n  return async function (dispatch) {\n    dispatch({\n      type: \"expense/loading\",\n    });\n    const response = await fetch(\"https://Walanda-server-production.up.railway.app/expense/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(login),\n    });\n\n    const data = await response.json();\n    console.log(data)\n\n    if (response.ok) {\n      dispatch({\n        type: \"add/login\",\n        payload: data.expense,\n      });\n      localStorage.setItem(\"expense\", data.token);\n      localStorage.setItem(\"profileId\", data.expense.id)\n      navigate(\"/jobs\");\n    } else {\n      dispatch({\n        type: \"error/expense\",\n        payload: data,\n      });\n    }\n  };\n};\n\n\n\n\nconst initialState = {\n  status: \"idle\",\n  errors: [],\n  expense: {}\n}\nexport default function expenseReducer(state = initialState, action) {\n\n  switch (action.type) {\n    case \"add/expense\": {\n      return {\n        ...state,\n        expense: action.payload,\n        errors: [],\n        status: \"idle\"\n      }\n    }\n    case \"expense/loading\": {\n      return {\n        ...state,\n        status: \"loading\",\n      }\n    }\n    case \"add/login\": {\n      return {\n        ...state,\n        expense: action.payload,\n        errors: [],\n        status: \"idle\"\n      };\n    }\n\n    case \"error/expense\": {\n      return {\n        ...state,\n        errors: action.payload.errors,\n        status: \"idle\"\n      }\n\n    }\n    default:\n      return state;\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}