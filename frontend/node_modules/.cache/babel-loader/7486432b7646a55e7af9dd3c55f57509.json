{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import\"./LoginForm.css\";import{addlogin}from\"../expense/LoginExpSlice\";import LandingHeader from\"../LandingTopHeader/LandingHeader\";// import { Dashboard } from \"@mui/icons-material\";\n// import Dashboard from \"../../pages/Dashboard\";\nfunction LoginForm(){const dispatch=useDispatch();const navigate=useNavigate();const[login,setLogin]=useState({username:\"\",password:\"\"});const errors=useSelector(state=>state.expense.errors);// const status = useSelector((state) => state.expense.status);\nconst expense=useSelector(state=>state.expense);const[visible,setVisible]=useState(false);console.log(expense);function handleChange(event){const name=event.target.name;const value=event.target.value;setLogin({...login,[name]:value});}useEffect(()=>{if(!errors){setVisible(false);}setVisible(true);const timer=setInterval(()=>{setVisible(false);},3000);return()=>{clearInterval(timer);};},[errors]);function handleSubmit(event){event.preventDefault();dispatch(addlogin(login,()=>{navigate.push(\"/dashboard\");// Navigate to the dashboard page after successful login\n}));}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(LandingHeader,null),/*#__PURE__*/React.createElement(\"div\",{className:\"login-form-container\"},/*#__PURE__*/React.createElement(\"form\",{id:\"login-form\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"h1\",{className:\"extra\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rows\"},/*#__PURE__*/React.createElement(\"label\",null,\" username \"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"login-input\",value:login.username,name:\"username\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rows\"},/*#__PURE__*/React.createElement(\"label\",null,\" Password \"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"login-input\",autoComplete:\"password\",value:login.password,name:\"password\",onChange:handleChange}),visible?errors.length>0?/*#__PURE__*/React.createElement(\"h3\",{className:\"login-errors\"},errors.find(error=>error.includes(\"Invalid\"))):null:null)),/*#__PURE__*/React.createElement(\"div\",{className:\"login-btn\"},/*#__PURE__*/React.createElement(\"button\",null,\"Log in\")),/*#__PURE__*/React.createElement(Link,{to:\"/expenseSignUp\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Do not have an account ?\",/*#__PURE__*/React.createElement(\"span\",{className:\"sign-up\"},\" Sign Up \"))))));}export default LoginForm;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Link","useNavigate","addlogin","LandingHeader","LoginForm","dispatch","navigate","login","setLogin","username","password","errors","state","expense","visible","setVisible","console","log","handleChange","event","name","target","value","timer","setInterval","clearInterval","handleSubmit","preventDefault","push","createElement","Fragment","className","id","onSubmit","type","onChange","autoComplete","length","find","error","includes","to"],"sources":["/Users/trixie/Downloads/walanda/frontend/src/Components/login/LoginForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./LoginForm.css\";\nimport { addlogin } from \"../expense/LoginExpSlice\";\nimport LandingHeader from \"../LandingTopHeader/LandingHeader\";\n// import { Dashboard } from \"@mui/icons-material\";\n// import Dashboard from \"../../pages/Dashboard\";\n\nfunction LoginForm() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const [login, setLogin] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const errors = useSelector((state) => state.expense.errors);\n  // const status = useSelector((state) => state.expense.status);\n  const expense = useSelector((state) => state.expense);\n  const [visible, setVisible] = useState(false);\n  console.log(expense);\n  function handleChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    setLogin({\n      ...login,\n      [name]: value,\n    });\n  }\n\n  useEffect(() => {\n    if (!errors) {\n      setVisible(false);\n    }\n    setVisible(true);\n    const timer = setInterval(() => {\n      setVisible(false);\n    }, 3000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, [errors]);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    dispatch(addlogin(login, () => {\n      navigate.push(\"/dashboard\"); // Navigate to the dashboard page after successful login\n    }));\n  }\n  return (\n    <>\n      <LandingHeader />\n      <div className=\"login-form-container\">\n        <form id=\"login-form\" onSubmit={handleSubmit}>\n          <h1 className=\"extra\">Login</h1>\n          <div className=\"row\">\n            <div className=\"rows\">\n              <label> username </label> <br />\n              <input\n                type=\"text\"\n                className=\"login-input\"\n                value={login.username}\n                name=\"username\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"rows\">\n              <label> Password </label> <br />\n              <input\n                type=\"password\"\n                className=\"login-input\"\n                autoComplete=\"password\"\n                value={login.password}\n                name=\"password\"\n                onChange={handleChange}\n              />\n              {visible ? (\n                errors.length > 0 ? (\n                  <h3 className=\"login-errors\">\n                    {errors.find((error) => error.includes(\"Invalid\"))}\n                  </h3>\n                ) : null\n              ) : null}\n            </div>\n          </div>\n          <div className=\"login-btn\">\n            <button>\n              {/* {status === \"loading\" ? \"logging in as ...\" : \" Log in\"} */}\n              Log in\n            </button>\n          </div>\n          <Link to=\"/expenseSignUp\">\n            <h2>\n              Do not have an account ?<span className=\"sign-up\"> Sign Up </span>\n            </h2>\n          </Link>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}