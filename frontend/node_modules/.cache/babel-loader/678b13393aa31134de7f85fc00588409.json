{"ast":null,"code":"export const addexpense=(expense,navigate)=>{return async function(dispatch){dispatch({type:\"expense/loading\"});const response=await fetch(\"https://Walanda-server-production.up.railway.app/handymen\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(expense)});const data=await response.json();if(response.ok){dispatch({type:\"add/expense\",payload:data});localStorage.setItem(\"expense\",data.jwt);navigate('/expense/alert');}else{dispatch({type:\"error/expense\",payload:data});}};};export const addlogin=(login,navigate)=>{return async function(dispatch){dispatch({type:\"expense/loading\"});const response=await fetch(\"https://Walanda-server-production.up.railway.app/expense/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(login)});const data=await response.json();console.log(data);if(response.ok){dispatch({type:\"add/login\",payload:data.expense});localStorage.setItem(\"expense\",data.token);localStorage.setItem(\"profileId\",data.expense.id);navigate(\"/jobs\");}else{dispatch({type:\"error/expense\",payload:data});}};};const initialState={status:\"idle\",errors:[],expense:{}};export default function expenseReducer(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"add/expense\":{return{...state,expense:action.payload,errors:[],status:\"idle\"};}case\"expense/loading\":{return{...state,status:\"loading\"};}case\"add/login\":{return{...state,expense:action.payload,errors:[],status:\"idle\"};}case\"error/expense\":{return{...state,errors:action.payload.errors,status:\"idle\"};}default:return state;}}","map":{"version":3,"names":["addexpense","expense","navigate","dispatch","type","response","fetch","method","headers","body","JSON","stringify","data","json","ok","payload","localStorage","setItem","jwt","addlogin","login","console","log","token","id","initialState","status","errors","expenseReducer","state","arguments","length","undefined","action"],"sources":["/Users/trixie/Downloads/walanda/frontend/src/Components/expense/LoginExpSlice.js"],"sourcesContent":["export const addexpense = (expense, navigate) => {\n  return async function (dispatch) {\n    dispatch({\n      type: \"expense/loading\"\n    })\n    const response = await fetch(\"https://Walanda-server-production.up.railway.app/handymen\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(\n        expense\n      )\n    })\n\n    const data = await response.json()\n\n    if (response.ok) {\n      dispatch({\n        type: \"add/expense\",\n        payload: data\n      })\n      localStorage.setItem(\"expense\", data.jwt)\n      navigate('/expense/alert');\n    } else {\n      dispatch({\n        type: \"error/expense\",\n        payload: data\n      })\n    }\n  }\n}\n\nexport const addlogin = (login, navigate) => {\n  return async function (dispatch) {\n    dispatch({\n      type: \"expense/loading\",\n    });\n    const response = await fetch(\"https://Walanda-server-production.up.railway.app/expense/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(login),\n    });\n\n    const data = await response.json();\n    console.log(data)\n\n    if (response.ok) {\n      dispatch({\n        type: \"add/login\",\n        payload: data.expense,\n      });\n      localStorage.setItem(\"expense\", data.token);\n      localStorage.setItem(\"profileId\", data.expense.id)\n      navigate(\"/jobs\");\n    } else {\n      dispatch({\n        type: \"error/expense\",\n        payload: data,\n      });\n    }\n  };\n};\n\n\n\n\nconst initialState = {\n  status: \"idle\",\n  errors: [],\n  expense: {}\n}\nexport default function expenseReducer(state = initialState, action) {\n\n  switch (action.type) {\n    case \"add/expense\": {\n      return {\n        ...state,\n        expense: action.payload,\n        errors: [],\n        status: \"idle\"\n      }\n    }\n    case \"expense/loading\": {\n      return {\n        ...state,\n        status: \"loading\",\n      }\n    }\n    case \"add/login\": {\n      return {\n        ...state,\n        expense: action.payload,\n        errors: [],\n        status: \"idle\"\n      };\n    }\n\n    case \"error/expense\": {\n      return {\n        ...state,\n        errors: action.payload.errors,\n        status: \"idle\"\n      }\n\n    }\n    default:\n      return state;\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}